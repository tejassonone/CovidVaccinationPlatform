{% extends 'base.html' %}
{% block content %}

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>

    <title>Admin Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.2/chart.min.js" integrity="sha512-dnUg2JxjlVoXHVdSMWDYm2Y5xcIrJg1N+juOuRi0yLVkku/g26rwHwysJDAMwahaDfRpr1AxFz43ktuMPr/l1A==" crossorigin="anonymous"></script>

    



    <div class="section-b container">

        <div class="row">
            <div class="col-md-9"><h2>Dashboard</h2></div>
            <div class="col-md-3 calender">2021-07-15 - 2022-01-15</div></div>

        <hr>

        <div class="row">
            <div class="col">
                <div class="col-md">
                    <div class="card text-center text-white  mb-3" id="total-beneficiries">
                          <div class="card-header">
                              <h5 class="card-title">Total Session Conducted</h5>
                          </div>
                          <div class="card-body">
                            <h3 class="card-title">15</h3>
                          </div>
                    </div>
                </div>
            </div>

                <div class="col">
                    <div class="col-md">
                        <div class="card text-center text-white  mb-3" id="total-beneficiries">
                              <div class="card-header">
                                  <h5 class="card-title">Total Beneficiaries</h5>
                              </div>
                              <a class="text-white text-decoration-none" href="{% url 'appointment_list_view' %}">
                              <div class="card-body">
                                <h3 class="card-title">{{total_appointment}}</h3>
                              </div>
                            </a>
                        </div>
                    </div>
                </div>
        
            <div class="col">
                <div class="col-md">
                    <div class="card text-center text-white  mb-3" id="beneficiries-vaccinated">
                          <div class="card-header">
                              <h5 class="card-title">Beneficiaries Vaccinated</h5>
                          </div>
                          <a class="text-white text-decoration-none" href="{% url 'vaccinated_list_view' %}">
                          <div class="card-body">
                            <h3 class="card-title">{{total_vaccinated}}</h3>
                          </div>
                        </a>
                    </div>
                </div>
            </div>
        
            <div class="col">
                <div class="col-md">
                    <div class="card text-center text-white  mb-3" id="beneficiries-pending">
                          <div class="card-header">
                              <h5 class="card-title">Beneficiaries Pending</h5>
                          </div>
                          <a class="text-white text-decoration-none" href="{% url 'pending_list_view' %}">
                            <div class="card-body">
                                <h3 class="card-title">{{total_sheduled}}</h3>
                              </div>
                          </a>
                    </div>
                </div>
            </div>

            

        <div class="row">
          <div class="col">
              <div class="col-md">
                  <div class="mb-3">
                    <canvas class="chart"  id="monthChart" width="100" height="80"></canvas>       
                  </div>
              </div>
          </div>

              <div class="col">
                  <div class="col-md">
                      <div class="mb-3">
                        <canvas class="chart" id="dayChart" width="100" height="80"></canvas>      
                      </div>
                  </div>
              </div>
        </div>


        </div>



    </div>



<style>

.chart{
    border-width: 50vh;
    max-height: 100%;
    position: fixed;
    display: block;
    box-sizing: border-box;
    border: 1px;
    border-top: 2px;
}


.style-content{
    margin-right: 500px;
    width: 100vw;
    color: #fff;
    background: rgb(36, 31, 31);
}

.calender{
    font-size: 25px;
}



#total-beneficiries{
		background-color: #30bbe6;
	}


	#beneficiries-vaccinated{
		background-color: #4b9ed4;
	}

	#beneficiries-pending{
		background-color: #52a0d4;
	}

    #myChart1 {

  height: 450px;
}


#myChart2 {
  height: 450px;
}


</style>



<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>



<script>
$("canvas").removeAttr("style");

var ctx1 = document.getElementById('monthChart').getContext('2d');
var monthChart = new Chart(ctx1, {
    type: 'bar',
    data: {
        labels: [{% for label in qs %} '{{label.month}}', {% endfor %}],
        datasets: [{
            label: 'vaccinated',
            data: [{% for label in qs %} '{{label.vaccinated_count}}', {% endfor %}],
            backgroundColor: [
                'rgba(54, 162, 235, 0.2)',
            ],
            borderColor: [
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});



    //----------chart 2 ------------------//


var ctx2 = document.getElementById('dayChart').getContext('2d');
var dayChart = new Chart(ctx2, {
    type: 'line',
    data: {
        labels: [{% for label in day_qs %} '{{label.day}}', {% endfor %}],
        datasets: [{
            label: 'vaccinated',
            data: [{% for label in day_qs %} '{{label.vaccinated_count}}', {% endfor %}],
            backgroundColor: [
                'rgba(54, 162, 235, 0.2)',
            ],
            borderColor: [
                'rgba(54, 162, 235, 1)',
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});



//------------zingchart -----------------//

var myConfig2 = {
  type: "area",
  series: [{
    values: [20, 40, 25, 50, 15, 45, 33, 34],
    marker: {
      backgroundColor: "#FF0066",
      /* hexadecimal or RGB value */
      size: 4,
      /* in pixels */
      borderColor: "#6666FF",
      /* hexadecimal or RBG value */
      borderWidth: 5 /* in pixels */
    }
  }]
};
 
zingchart.render({
  id: 'myChart2',
  data: myConfig2,
  height: "100%",
  width: "100%"
});




</script>

{% endblock %}